<div class="menu-item-inner" style="{{#if _graphic.src}} background: url({{_graphic.src}}); background-size: cover; background-repeat: no-repeat; background-position: center;{{/if}} height: 50vh;" aria-label="{{_globals._menu._tilesmenu.menuItem}}" {{#if _globals._menu._tilesmenu.menuItem}}tabindex="0"{{/if}}>
    <div class="menu-item-title">
        <div class="menu-item-title-inner h3" role="heading" aria-level="2" tabindex="0">{{{compile displayTitle}}}</div>
    </div>
    <div class="menu-item-button">
        <button aria-label="{{linkText}} {{#if _isVisited}}{{_globals._accessibility._ariaLabels.visited}}{{/if}}" class="{{#if _isVisited}}visited{{/if}} {{#if _isLocked}}disabled{{/if}}" {{#if _isLocked}}disabled="disabled"{{/if}}>
            <div class="viewtext">{{{linkText}}}</div>{{{compile_a11y_text body}}}
        </button>
        {{#if duration}}
            <span class="menu-item-duration" role="region" tabindex="0">{{#if _globals._menu._tilesmenu.durationLabel}}{{{_globals._menu._tilesmenu.durationLabel}}}{{/if}} {{{duration}}}</span>
        {{/if}}
    </div>
</div>
<script>
$('.menu-item-{{_id}} .menu-item-button button').each(function() {
    var $pTag = $(this).find('p');
    if($pTag.text().length > 250){
      $(this).html($(this).html().substring(0, 250) + " ...<br/>" + "<a href=\"#\" id=\"tilemenupopup\">+ Read more</a>");
      $( ".menu-item-{{_id}} #tilemenupopup" ).on( "click", function() { require("coreJS/adapt").trigger("notify:popup",{title:"{{{compile displayTitle}}}",body:"{{{compile_a11y_text body}}}"});return false; });
   }
});
</script>
